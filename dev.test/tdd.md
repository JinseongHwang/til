# TDD

## TDD 과정

1. [RED] 깨지는 테스트를 먼저 작성한다.
2. [GREEN] 깨지는 테스트를 성공시킨다.
3. [BLUE] 리팩토링한다.

3단계를 개발 단계에서 무한히 반복하는 것이 TDD이다.

## TDD 장점

개발자가 저지르는 실수의 대부분이 교정된다.

1. 깨지는 테스트를 먼저 작성해야 하기 때문에, 인터페이스를 먼저 만드는 것이 강제된다.
   대부분의 개발자들은 추상화보단 구체 클래스를 먼저 작성하는 경향이 있다. 하지만 테스트를 위해 인터페이스를 만들다 보면,
   인터페이스(추상화)가 어떤 행동을 외부로 공개할지, 역할은 무엇인지, 책임은 어디까지인지 먼저 고민하게 된다.
   이는 객체지향 관점에서 굉장히 중요한 과정이다. TDD를 하면 이 과정을 반강제로 끼워 넣을 수 있다.
    - 위 과정을 "What/Who 사이클"이라고도 한다. 어떤 행위(what)를 수행할 것인지를 결정한 후에 누가(who) 그 행위를 수행할 것인지를 결정한다는 의미이다.
    - **객체의 행위가 선행적으로 결정되어야 한다.**
    - 여기서 말하는 "행동"은 "메서드"를 의미하는 것이 아니다. 테스트가 필요한 행동은 객체 관점에서 유의미하고, 검증이 필요할 만큼 유의미한 메서드여야 한다는 의미이다. 이를 잘못 이해하면 Getter, Setter와 같은 코드에도 테스트를 작성하는 일이 발생할 수 있다.
    - **절대 테스트 커버리지에 집착하면 안된다.**
2. 장기적인 관점에서 개발 비용이 감소한다. 프로젝트 개발 기간이 길어지고, 규모가 커질수록 feature 1개를 개발하는 데 시간이 꾸준히 증가한다.
   하지만 TDD로 개발된 프로젝트는 코드 변경이 발생하더라도 수많은 테스트 코드가 동작을 검증할 수 있으니 기능 추가에 대한 심리적 부담감이 줄어든다. 이는 곧 시간/비용 절감으로 이어진다.

## TDD 단점

1. 위 장점 2번의 이유와 동일하다. 기능을 바로 개발하는 것이 아니라 테스트 코드도 함께 작성되어야 한다. 절대적으로 개발자가 작성해야 하는 코드의 양이 많다는 것을 의미한다.
   스타트업과 같이 속도가 생명인 조직에서는 적절하지 않은 방법일 수 있다.
2. 함께 일하는 팀 내 구성원들이 TDD에 숙련 되기까지 꽤 많은 시간이 필요할 수 있다. 개발 난이도를 높일 수 있다.

